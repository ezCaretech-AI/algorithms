## 해싱(hashing)

### 1. 이론적 배경

* 해시 테이블(값의 연산에 의해 직접 접근이 가능한 구조)을 이용한 탐색
* Key 값을 해시함수(Hash Function)라는 수식에 대입시켜 계산한 후 나온 결과를 주소로 사용하여 값에 접근 할 수 있는 방법. 
* 대부분의 탐색 방법들은 탐색키를 저장된 키 값과 반복적으로 비교하면서 탐색을 진행,  
반면, 해싱은 키 값에 직접 산술적인 연산을 적용하여 항목이 저장되어 있는 테이블 주소를 계산하여 접근

------------------------

### 2. 구성요소

![Alt text](/imgs/hashing/hashing.JPG)

* Hash Table    : Key - Value 쌍에서 Key 값을 테이블에 저장할 때, Key 값을 함수를 이용해 계산을 수행한 후, 그 결과 값을 배열의 인덱스로 사용하여 저장하는 방식.  
* Hash Function : Key 값을 계산하는 함수, 키 값을 테이블 주소로 변환하는 함수, 0에서 m(배열의 크기) - 1 사이의 값을 출력  
                   h : U -> {0, 1, ..., m - 1 }

---------------------

### 3. 해시 함수 (Hash Function)

* 키(Key)값을 값(Value)이 저장되는 주소 값으로 바꾸기 위한 수식.

#### 3.1. 나눗셈법(division method)

* 나머지 연산자를 이용하여 주소(인덱스)를 계산하는 방법.  
* h(k)(인덱스) = k(key) % M(전체 테이블 크기)  
* 해시테이블 크기가 정해진다는 단점이 존재.

#### 3.2. 곱셈법(multiplication method) 

* 곱셈연산을 통해 주소(인덱스)를 계산하는 방법.  
* h(k)(인덱스) = (kA mod 1) x M  -> k : key, A : 0과 1 사이의 실수, M : 전체 테이블 크기  
* 2진수 연산에 최적화 된 컴퓨터 구조를 고려한 해시 함수를 사용하지만, 나눗셈법보다는 계산 속도가 느림

#### 3.3. 유니버설 해싱(universal hashing)

* 여러 개의 해시 함수를 만들고, 이 해시 함수의 집합 H에서 무작위로 해시 함수를 선택해 해시 값을 계산.  
* 무작위로 뽑은 해시함수가 주어졌을 때 임의의 키 값을 임의의 해시값에 매핑할 확률을 1/m로 만드려는 것이 목적.

* 중간 제곱법, 폴딩법, 숫자 분석법, 기수 변환법, 무작위 방법등이 존재

------------------------

### 4. 해시 충돌(Hash Collision)

* 어떤 해시 함수가 서로 다른 두 입력에 대해 동일한 출력 값을 나타내는 경우.  
* 해시 함수에 입력할 수 있는 데이터의 가짓수는 무한한데, 출력으로 나올 수 있는 해시 값이 유한하기 때문에 발생.

![Alt text](/imgs/hashing/hashcollision.JPG)

-----------------------------

### 5. 충돌 해결 방법

#### 5.1. 연쇄법(Chaining)

* 해시 테이블 크기 M이 레코드 개수 N보다 작을 때 사용.  
* 동일 주소로 해시되는 모든 원소가 연결 리스트 형태로 연결되는 해싱 방법.  
* 장점 : 다른 방법에 비해 원소의 삽입과 삭제가 용이
* 단점 : 포인터 저장을 위한 기억공간이 필요하며, 기억장소 할당이 동적으로 이루어져야 한다.

![Alt text](/imgs/hashing/chaining.JPG)

#### 5.2. 선형 탐사법(Linear Probing)

* 해시 테이블 크기 M이 레코드 개수 N보다 클 때 사용.  
* 동일 주소로 해시되는 원소가 있으면, 해시 테이블상의 오른쪽 방향으로 이동하면서 비어있는 공간을 찾은 다음 첫번째로 만나는 빈 공간에 이 원소를 저장.  
* 만약, 해시 테이블의 오른쪽 끝을 만나게 되면 다시 해시 테이블의 처음으로 와서 탐사시작

![Alt text](/imgs/hashing/linear.JPG)

### 6. 해싱의 시간 복잡도
* 해싱 평균 시간복잡도 : O(1)
* 해싱 최악 시간복잡도 : O(n)
